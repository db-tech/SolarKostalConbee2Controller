# Solar Power Monitoring and Control

This is a hobby project that allows you to measure the power generated by your solar power system and use it efficiently by controlling the power consumption of your house. The project uses a Kostal inverter to get the power data through REST and a Conbee2 USB stick from Phoscon to control a ZigBee plug. The plug is switched on depending on the power generated and the power consumption of the house to use all the power generated.

**Disclaimer: Disclaimer: This project is for educational and experimental purposes only. The code is provided as-is and without warranty of any kind. There is no guarantee that the code will work or be suitable for your needs, and you assume all risk and responsibility for using it.**

## Features
- Measure power generated by solar power system
- Control power consumption of your house
- Use all the power generated by your solar power system without an installed accu
- Web-based interface to view power data and control the plug
- Configuration using a config file

## Requirements

- A solar power system with a Kostal inverter
- A Conbee2 USB stick from Phoscon (maybe other could work as well, but I haven't tested it)
- A ZigBee plug that can be controlled by the Conbee2 stick

## Getting Started
To build the project, first run "go generate" to build the javascript react page and then run "go build" to build the server. The web server should then be available on `<ip>:8080`.

Before using the app, you need to configure the ZigBee plug using the Conbee2 USB stick from Phoscon. Please read the Phoscon documentation to do that.

When you first enter the website, choose a unique username. This is useful when you want to use it on multiple systems. Never use the same username on different devices.

Here is an example `config.ini` file that can be used to configure the app:



```ini
deconzPassword =
Threshold = 100.000000
plugName =
kostalUsername =
kostalType =
hostAddress =
apiKey =
deconzUsername =
pollDuration = 10
kostalPassword =
kostalAddress =
```

The `config.ini` file is automatically created by the app and can be edited manually if necessary.

## License
This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Acknowledgments
- [Kostal](https://www.kostal-solar-electric.com/)
- [Phoscon](https://phoscon.de/en/conbee2)
